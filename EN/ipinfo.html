<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CHAMS IPINFO</title>
	<link rel="icon" href="pics/favicon.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" href="style.css"> -->
    <link rel="stylesheet" href="bootstrap.min.css">
    <script src="bootstrap.bundle.min.js"></script>
  </head>
  <body onload="enumeration()">
		<script>
			function enumeration() {
				ipgeolocation();
				//rdns();
				//torcheck();
				//chameleon();
				useragent();
			}
			async function ipgeolocation() {
				const d = await fetch('https://api.ipgeolocation.io/ipgeo?apiKey=9331c40e7cb24e4b86de49927082b569&fields=country_code2,country_name,city,isp');
				const j = await d.json() ;
				document.getElementById("ip").innerHTML = j.ip;
				document.getElementById("loc").innerHTML = j.city + " , " + j.country_name ;
				document.getElementById("isp").innerHTML = j.isp;
				let flagp = "pics/" + j.country_code2 + ".svg" ;
				document.getElementById("flag").setAttribute( "src" , flagp );
			}
			async function useragent() {
				const d = await fetch('https://api.ipgeolocation.io/user-agent?apiKey=9331c40e7cb24e4b86de49927082b569');
				const j = await d.json() ;
				let browsers = [ "Edge" , "Safari" , "Chrome" , "Firefox" , "Opera" ] ;
				if ( browsers.includes( j.name ) ) {
					document.getElementById("browser").innerHTML = j.name ;
					let browserp = "pics/" + j.name + ".svg";
					document.getElementById("browsericon").setAttribute( "src" , browserp );
				}
				let oslist = [ "Android" , "iOS" , "Windows NT" , "Mac OS X" ] ;
				let os = j.operatingSystem[ "name" ] ;
				if ( oslist.includes( os ) ) {
					if ( os == "iOS" ) {
						os = "IOS" ;
					}
					if ( os == "Windows NT" ) {
						os = "Windows" ;
					}
					if ( os == "Mac OS X" ) {
						os = "OSX" ;
					}
					document.getElementById("os").innerHTML = os + " " + j.operatingSystem[ "versionMajor" ] ;
					let osp = "pics/" + os + ".svg" ;
					document.getElementById("osicon").setAttribute( "src" , osp );
				}
			}
		</script>
		<h3>IP :</h3>
		<img id="flag" width="50" height="25" >
		<h3 id="ip"></h3>
		<h3>Host Name :</h3>
		<img src="pics/DNS.png" width="50" height="50">
		<h3 id="domain"></h3>
		<h3>Location :</h3>
		<img src="pics/Location.png" width="50" height="50">
		<h3 id="loc"></h3>
		<h3>ISP :</h3>
		<img src="pics/ISP.png" width="50" height="50">
		<h3 id="isp"></h3>
		<!-- networks are TOR , CHAMELEON , INTERNAL ( tor logo is present ) , webrtc -->
		<h3>Browser :</h3>
		<img id="browsericon" width="50" height="50">
		<h3 id="browser"></h3>
		<h3>OS :</h3>
		<img id="osicon" width="50" height="50">
		<h3 id="os"></h3>
  </body>
</html>